python img_score.py --image-path ../b/1_2_1_00002_.png --prompt 'girl'
Traceback (most recent call last):
  File "/data/home/zhangchunsheng/git/HPSv2/hpsv2/img_score.py", line 3, in <module>
    from hpsv2.src.open_clip import create_model_and_transforms, get_tokenizer
  File "/data/home/zhangchunsheng/clip/lib/python3.9/site-packages/hpsv2/src/open_clip/__init__.py", line 3, in <module>
    from .factory import create_model, create_model_and_transforms, create_model_from_pretrained, get_tokenizer, create_loss
  File "/data/home/zhangchunsheng/clip/lib/python3.9/site-packages/hpsv2/src/open_clip/factory.py", line 8, in <module>
    from turtle import forward
ModuleNotFoundError: No module named 'turtle'

python img_score.py --image-path ../b/1_2_1_00002_.png --prompt 'girl'
Failed to get repository contents: HTTPSConnectionPool(host='hf-mirror.com', port=443): Max retries exceeded with url: /api/datasets/zhwang/HPDv2 (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x0000016849B21FF0>, 'Connection to hf-mirror.com timed out. (connect timeout=None)'))
Traceback (most recent call last):
  File "C:\Work\AI-Service\Score\PickScore\score\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    sock.connect(sa)
TimeoutError: timed out

python_embeded\python -m pip list
Package                      Version
---------------------------- ------------------
absl-py                      1.4.0
accelerate                   0.24.1
addict                       2.4.0
aiofiles                     23.1.0
aiohttp                      3.8.4
aiosignal                    1.3.1
albumentations               1.3.1
aliyun-python-sdk-core       2.13.10
aliyun-python-sdk-core-v3    2.13.10
aliyun-python-sdk-kms        2.16.2
altair                       5.0.0
antlr4-python3-runtime       4.9.3
anyio                        3.6.2
arabic-reshaper              3.0.0
astunparse                   1.6.3
async-timeout                4.0.2
asyncer                      0.0.2
attrs                        22.2.0
basicsr                      1.4.2
beautifulsoup4               4.12.2
blend-modes                  2.1.0
boltons                      23.0.0
bpy                          3.6.0
cachetools                   5.3.1
certifi                      2022.12.7
cffi                         1.15.1
chardet                      3.0.4
charset-normalizer           3.1.0
click                        8.1.3
clip                         1.0
clip-interrogator            0.6.0
clipseg                      0.0.1
cmake                        3.27.2
colorama                     0.4.6
coloredlogs                  15.0.1
colorlog                     6.8.2
compel                       2.0.0
contourpy                    1.0.7
crcmod                       1.7
cssselect2                   0.7.0
cstr                         0.1.0
cycler                       0.11.0
Cython                       3.0.0
datasets                     2.16.1
deep-translator              1.11.4
diffusers                    0.27.0
dill                         0.3.7
easydict                     1.10
editables                    0.5
einops                       0.6.0
embreex                      2.17.7.post4
exllama                      0.0.17+cu118
face-recognition-models      0.3.0
facexlib                     0.3.0
fairscale                    0.4.13
fastapi                      0.94.0
ffmpeg                       1.4
ffmpeg-python                0.2.0
ffmpy                        0.3.0
filelock                     3.10.0
filetype                     1.2.0
filterpy                     1.4.5
flatbuffers                  23.5.26
fonttools                    4.39.2
frozenlist                   1.3.3
fsspec                       2023.10.0
ftfy                         6.1.1
future                       0.18.3
fvcore                       0.1.5.post20221221
gast                         0.4.0
gdown                        4.7.1
gitdb                        4.0.10
GitPython                    3.1.31
glitch-this                  1.0.2
google-auth                  2.22.0
google-auth-oauthlib         1.2.0
google-pasta                 0.2.0
googletrans                  3.1.0a0
googletrans-py               4.0.0
gradio                       3.32.0
gradio_client                0.2.4
grpcio                       1.56.2
h11                          0.14.0
h2                           4.1.0
h5py                         3.9.0
hatchling                    1.18.0
hpack                        4.0.0
hstspreload                  2023.1.1
httpcore                     1.0.2
httpx                        0.25.1
huggingface-hub              0.20.3
humanfriendly                10.0
hyperframe                   6.0.1
idna                         2.10
image-reward                 1.4
ImageHash                    4.3.1
imageio                      2.27.0
imageio-ffmpeg               0.4.9
img2texture                  1.0.6
importlib-metadata           6.8.0
insightface                  0.7.3
iopath                       0.1.10
Jinja2                       3.1.2
jmespath                     0.10.0
joblib                       1.2.0
jsonschema                   4.17.3
keras                        2.15.0
Keras-Preprocessing          1.1.2
kiwisolver                   1.4.4
kornia                       0.7.1
lark                         1.1.7
lazy_loader                  0.2
libclang                     16.0.6
lightning-utilities          0.8.0
linkify-it-py                2.0.2
llvmlite                     0.40.0
lmdb                         1.4.1
lxml                         4.9.2
mapbox-earcut                1.0.1
Markdown                     3.4.3
markdown-it-py               2.2.0
MarkupSafe                   2.1.2
matplotlib                   3.8.0
matrix-client                0.4.0
mdit-py-plugins              0.3.3
mdurl                        0.1.2
mediapipe                    0.9.1.0
ml-dtypes                    0.2.0
mmcv                         2.0.0
mmdet                        3.0.0
mmengine                     0.7.3
model-index                  0.1.11
modelscope                   1.11.1
mpmath                       1.3.0
multidict                    6.0.4
multiprocess                 0.70.15
mypy-extensions              1.0.0
networkx                     3.0
ninja                        1.11.1
numba                        0.57.0
numexpr                      2.8.7
numpy                        1.23.5
oauthlib                     3.2.2
omegaconf                    2.3.0
onnx                         1.14.0
onnxruntime                  1.16.1
onnxruntime-gpu              1.15.1
open-clip-torch              2.23.0
opencv-contrib-python        4.7.0.72
opencv-python                4.7.0.72
opencv-python-headless       4.7.0.72
openmim                      0.3.7
opt-einsum                   3.3.0
ordered-set                  4.1.0
orjson                       3.9.0
oss2                         2.13.1
packaging                    23.0
pandas                       2.0.2
pathspec                     0.11.2
piexif                       1.1.3
pilgram                      1.2.1
Pillow                       9.4.0
pip                          23.3.1
pixelsort                    1.0.1
platformdirs                 3.6.0
pluggy                       1.3.0
pooch                        1.7.0
portalocker                  2.7.0
prettytable                  3.6.0
protobuf                     3.20.3
psutil                       5.9.4
py-cpuinfo                   9.0.0
pyarrow                      15.0.0
pyarrow-hotfix               0.6
pyasn1                       0.5.0
pyasn1-modules               0.3.0
pycocotools                  2.0.6
pycollada                    0.8
pycparser                    2.21
pycryptodome                 3.20.0
pydantic                     1.10.7
pydub                        0.25.1
pygame                       2.5.0
pygit2                       1.11.1
Pygments                     2.15.1
PyMatting                    1.1.8
pyparsing                    3.0.9
pypng                        0.20220715.0
pyre-extensions              0.0.23
pyreadline3                  3.4.1
pyrsistent                   0.19.3
PySocks                      1.7.1
python-bidi                  0.4.2
python-dateutil              2.8.2
python-multipart             0.0.6
pythonperlin                 0.0.3
pytorch-lightning            2.0.1
pytz                         2023.3
PyWavelets                   1.4.1
pywin32                      306
PyYAML                       6.0
qrcode                       7.4.2
qudida                       0.0.4
regex                        2022.10.31
rembg                        2.0.50
reportlab                    3.6.12
requests                     2.28.2
requests-oauthlib            1.3.1
requirements-parser          0.5.0
rfc3986                      1.5.0
rich                         13.4.1
rsa                          4.9
Rtree                        1.2.0
safetensors                  0.4.2
scikit-image                 0.20.0
scikit-learn                 1.3.2
scipy                        1.11.3
seaborn                      0.12.2
segment-anything             1.0
semantic-version             2.10.0
sentencepiece                0.1.97
setuptools                   67.6.0
sgm                          0.1.0
shapely                      2.0.1
simpleeval                   0.9.13
simplejson                   3.19.2
six                          1.16.0
smmap                        5.0.0
sniffio                      1.3.0
sortedcontainers             2.4.0
soupsieve                    2.4.1
starlette                    0.26.1
svg.path                     6.3
svglib                       1.5.1
sympy                        1.11.1
tabulate                     0.9.0
tb-nightly                   2.12.0a20230126
tensorboard                  2.15.1
tensorboard-data-server      0.7.2
tensorboard-plugin-wit       1.8.1
tensorflow                   2.15.0
tensorflow-cpu               2.15.0
tensorflow-estimator         2.15.0
tensorflow-intel             2.15.0
tensorflow-io-gcs-filesystem 0.31.0
termcolor                    2.3.0
terminaltables               3.1.10
threadpoolctl                3.2.0
tifffile                     2023.3.21
timm                         0.6.13
tinycss2                     1.2.1
tokenizers                   0.15.1
tomli                        2.0.1
toolz                        0.12.0
torch                        2.1.1+cu121
torchaudio                   2.1.1+cu121
torchdiffeq                  0.2.3
torchmetrics                 0.11.4
torchsde                     0.2.5
torchvision                  0.16.1+cu121
tqdm                         4.65.0
trampoline                   0.1.2
transformers                 4.37.2
trimesh                      4.1.4
trove-classifiers            2023.11.22
types-setuptools             68.1.0.0
typing_extensions            4.5.0
typing-inspect               0.8.0
tzdata                       2023.3
uc-micro-py                  1.0.2
ultralytics                  8.0.142
urllib3                      1.26.15
uvicorn                      0.22.0
vhacdx                       0.0.5
watchdog                     3.0.0
wcwidth                      0.2.6
webencodings                 0.5.1
websockets                   11.0.3
Werkzeug                     2.3.6
wheel                        0.40.0
wrapt                        1.14.1
xatlas                       0.0.9
xformers                     0.0.22.post7
xxhash                       3.4.1
yacs                         0.1.8
yapf                         0.32.0
yarl                         1.8.2
zipp                         3.16.2
zstandard                    0.21.0

[notice] A new release of pip is available: 23.3.1 -> 24.0
[notice] To update, run: c:\Work\SD-ComfyUI\python_embeded\python.exe -m pip install --upgrade pip

python_embeded\python -m pip install hpsv2
Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
Collecting hpsv2
  Downloading https://mirrors.aliyun.com/pypi/packages/46/f3/4ff37b7e5c5079bdc2880c9a72300c5b962e62ac0ebdcda2af358c3ddc4f/hpsv2-1.2.0-py3-none-any.whl (7.7 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 7.7/7.7 MB 488.6 kB/s eta 0:00:00
Requirement already satisfied: torch>=1.9.0 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (2.1.1+cu121)
Requirement already satisfied: torchvision in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (0.16.1+cu121)
Requirement already satisfied: regex in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (2022.10.31)
Requirement already satisfied: ftfy in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (6.1.1)
Requirement already satisfied: einops in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (0.6.0)
Requirement already satisfied: pandas in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (2.0.2)
Collecting braceexpand (from hpsv2)
  Downloading https://mirrors.aliyun.com/pypi/packages/fa/93/e8c04e80e82391a6e51f218ca49720f64236bc824e92152a2633b74cf7ab/braceexpand-0.1.7-py2.py3-none-any.whl (5.9 kB)
Requirement already satisfied: fsspec in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (2023.10.0)
Requirement already satisfied: tqdm in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (4.65.0)
Requirement already satisfied: huggingface-hub in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (0.20.3)
Requirement already satisfied: sentencepiece in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (0.1.97)
Requirement already satisfied: protobuf<4 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (3.20.3)
Requirement already satisfied: timm in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (0.6.13)
Requirement already satisfied: transformers in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (4.37.2)
Collecting webdataset (from hpsv2)
  Downloading https://mirrors.aliyun.com/pypi/packages/9e/86/5614338e7bdd9335b92a855c7caf4713d9c91ee1a586659f2bcfe5dc946b/webdataset-0.2.86-py3-none-any.whl (70 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 70.4/70.4 kB 349.6 kB/s eta 0:00:00
Requirement already satisfied: pyarrow in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (15.0.0)
Collecting pytest-split==0.8.0 (from hpsv2)
  Downloading https://mirrors.aliyun.com/pypi/packages/8a/d4/dcebd4d75cc2a0faed3ed615a47bd179d6c3873959ccda31a144be68c6f4/pytest_split-0.8.0-py3-none-any.whl (11 kB)
Collecting pytest==7.2.0 (from hpsv2)
  Downloading https://mirrors.aliyun.com/pypi/packages/67/68/a5eb36c3a8540594b6035e6cdae40c1ef1b6a2bfacbecc3d1a544583c078/pytest-7.2.0-py3-none-any.whl (316 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 316.8/316.8 kB 426.4 kB/s eta 0:00:00
Requirement already satisfied: requests in c:\work\sd-comfyui\python_embeded\lib\site-packages (from hpsv2) (2.28.2)
Collecting clint (from hpsv2)
  Downloading https://mirrors.aliyun.com/pypi/packages/3d/b4/41ecb1516f1ba728f39ee7062b9dac1352d39823f513bb6f9e8aeb86e26d/clint-0.5.1.tar.gz (29 kB)
  Preparing metadata (setup.py) ... error
  error: subprocess-exited-with-error

  × python setup.py egg_info did not run successfully.
  │ exit code: 1
  ╰─> [6 lines of output]
      Traceback (most recent call last):
        File "<string>", line 2, in <module>
        File "<pip-setuptools-caller>", line 34, in <module>
        File "C:\Users\AI-Space002\AppData\Local\Temp\pip-install-ug9nagf3\clint_0399262f6dd343b799988b0486724ae9\setup.py", line 12, in <module>
          import clint
      ModuleNotFoundError: No module named 'clint'
      [end of output]

  note: This error originates from a subprocess, and is likely not a problem with pip.
error: metadata-generation-failed

× Encountered error while generating package metadata.
╰─> See above for output.

note: This is an issue with the package mentioned above, not pip.
hint: See above for details.

[notice] A new release of pip is available: 23.3.1 -> 24.0
[notice] To update, run: c:\Work\SD-ComfyUI\python_embeded\python.exe -m pip install --upgrade pip

python_embeded\python -m pip install turtle
Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
Collecting turtle
  Downloading https://mirrors.aliyun.com/pypi/packages/ff/f0/21a42e9e424d24bdd0e509d5ed3c7dfb8f47d962d9c044dba903b0b4a26f/turtle-0.0.2.tar.gz (11 kB)
  Preparing metadata (setup.py) ... error
  error: subprocess-exited-with-error

  × python setup.py egg_info did not run successfully.
  │ exit code: 1
  ╰─> [7 lines of output]
      Traceback (most recent call last):
        File "<string>", line 2, in <module>
        File "<pip-setuptools-caller>", line 34, in <module>
        File "C:\Users\AI-Space002\AppData\Local\Temp\pip-install-zqf3ivl3\turtle_b760ac899e8043999770d3ccd7e96a0e\setup.py", line 40
          except ValueError, ve:
                 ^^^^^^^^^^^^^^
      SyntaxError: multiple exception types must be parenthesized
      [end of output]

  note: This error originates from a subprocess, and is likely not a problem with pip.
error: metadata-generation-failed

× Encountered error while generating package metadata.
╰─> See above for output.

note: This is an issue with the package mentioned above, not pip.
hint: See above for details.

[notice] A new release of pip is available: 23.3.1 -> 24.0
[notice] To update, run: c:\Work\SD-ComfyUI\python_embeded\python.exe -m pip install --upgrade pip

Cannot import C:\Work\SD-ComfyUI\ComfyUI\custom_nodes\ComfyUI-HPSv2-Nodes module for custom nodes: [Errno 2] No such file or directory: 'C:\\Work\\SD-ComfyUI\\python_embeded\\lib\\site-packages\\hpsv2\\src\\open_clip\\bpe_simple_vocab_16e6.txt.gz'
Note: NumExpr detected 32 cores but "NUMEXPR_MAX_THREADS" not set, so enforcing safe limit of 8.
NumExpr defaulting to 8 threads.
PyTorch version 2.1.1+cu121 available.
TensorFlow version 2.15.0 available.

Loaded ViT-H-14 model config.
Loading pretrained ViT-H-14 weights (laion2B-s32B-b79K).
!!! Exception during processing !!!
Traceback (most recent call last):
  File "C:\Work\SD-ComfyUI\ComfyUI\execution.py", line 151, in recursive_execute
    output_data, output_ui = get_output_data(obj, input_data_all)
  File "C:\Work\SD-ComfyUI\ComfyUI\execution.py", line 81, in get_output_data
    return_values = map_node_over_list(obj, input_data_all, obj.FUNCTION, allow_interrupt=True)
  File "C:\Work\SD-ComfyUI\ComfyUI\execution.py", line 74, in map_node_over_list
    results.append(getattr(obj, func)(**slice_dict(input_data_all, i)))
  File "C:\Work\SD-ComfyUI\ComfyUI\custom_nodes\ComfyUI-HPSv2-Nodes\hpsv2.py", line 52, in load
    checkpoint = torch.load(path, map_location=device)
  File "C:\Work\SD-ComfyUI\python_embeded\lib\site-packages\torch\serialization.py", line 986, in load
    with _open_file_like(f, 'rb') as opened_file:
  File "C:\Work\SD-ComfyUI\python_embeded\lib\site-packages\torch\serialization.py", line 435, in _open_file_like
    return _open_file(name_or_buffer, mode)
  File "C:\Work\SD-ComfyUI\python_embeded\lib\site-packages\torch\serialization.py", line 416, in __init__
    super().__init__(open(name, mode))
FileNotFoundError: [Errno 2] No such file or directory: 'HPSv2\\HPSv2Models\\HPS_v2_compressed.pt'

python_embeded\python -m pip list
Package                      Version
---------------------------- ------------------
absl-py                      1.4.0
accelerate                   0.24.1
addict                       2.4.0
aiofiles                     23.1.0
aiohttp                      3.8.4
aiosignal                    1.3.1
albumentations               1.3.1
aliyun-python-sdk-core       2.13.10
aliyun-python-sdk-core-v3    2.13.10
aliyun-python-sdk-kms        2.16.2
altair                       5.0.0
antlr4-python3-runtime       4.9.3
anyio                        3.6.2
arabic-reshaper              3.0.0
args                         0.1.0
astunparse                   1.6.3
async-timeout                4.0.2
asyncer                      0.0.2
attrs                        22.2.0
basicsr                      1.4.2
beautifulsoup4               4.12.2
blend-modes                  2.1.0
boltons                      23.0.0
bpy                          3.6.0
braceexpand                  0.1.7
cachetools                   5.3.1
certifi                      2022.12.7
cffi                         1.15.1
chardet                      3.0.4
charset-normalizer           3.1.0
click                        8.1.3
clint                        0.5.0
clint-cli                    0.5.0
clip                         1.0
clip-interrogator            0.6.0
clipseg                      0.0.1
cmake                        3.27.2
colorama                     0.4.6
coloredlogs                  15.0.1
colorlog                     6.8.2
compel                       2.0.0
contourpy                    1.0.7
crcmod                       1.7
cssselect2                   0.7.0
cstr                         0.1.0
cycler                       0.11.0
Cython                       3.0.0
datasets                     2.16.1
deep-translator              1.11.4
diffusers                    0.27.0
dill                         0.3.7
easydict                     1.10
editables                    0.5
einops                       0.6.0
embreex                      2.17.7.post4
exceptiongroup               1.2.0
exllama                      0.0.17+cu118
face-recognition-models      0.3.0
facexlib                     0.3.0
fairscale                    0.4.13
fastapi                      0.94.0
ffmpeg                       1.4
ffmpeg-python                0.2.0
ffmpy                        0.3.0
filelock                     3.10.0
filetype                     1.2.0
filterpy                     1.4.5
flatbuffers                  23.5.26
fonttools                    4.39.2
frozenlist                   1.3.3
fsspec                       2023.10.0
ftfy                         6.1.1
future                       0.18.3
fvcore                       0.1.5.post20221221
gast                         0.4.0
gdown                        4.7.1
gitdb                        4.0.10
GitPython                    3.1.31
glitch-this                  1.0.2
google-auth                  2.22.0
google-auth-oauthlib         1.2.0
google-pasta                 0.2.0
googletrans                  3.1.0a0
googletrans-py               4.0.0
gradio                       3.32.0
gradio_client                0.2.4
grpcio                       1.56.2
h11                          0.14.0
h2                           4.1.0
h5py                         3.9.0
hatchling                    1.18.0
hpack                        4.0.0
hpsv2                        1.2.0
hstspreload                  2023.1.1
httpcore                     1.0.2
httpx                        0.25.1
huggingface-hub              0.20.3
humanfriendly                10.0
hyperframe                   6.0.1
idna                         2.10
image-reward                 1.4
ImageHash                    4.3.1
imageio                      2.27.0
imageio-ffmpeg               0.4.9
img2texture                  1.0.6
importlib-metadata           6.8.0
iniconfig                    2.0.0
insightface                  0.7.3
iopath                       0.1.10
Jinja2                       3.1.2
jmespath                     0.10.0
joblib                       1.2.0
jsonschema                   4.17.3
keras                        2.15.0
Keras-Preprocessing          1.1.2
kiwisolver                   1.4.4
kornia                       0.7.1
lark                         1.1.7
lazy_loader                  0.2
libclang                     16.0.6
lightning-utilities          0.8.0
linkify-it-py                2.0.2
llvmlite                     0.40.0
lmdb                         1.4.1
lxml                         4.9.2
mapbox-earcut                1.0.1
Markdown                     3.4.3
markdown-it-py               2.2.0
MarkupSafe                   2.1.2
matplotlib                   3.8.0
matrix-client                0.4.0
mdit-py-plugins              0.3.3
mdurl                        0.1.2
mediapipe                    0.9.1.0
ml-dtypes                    0.2.0
mmcv                         2.0.0
mmdet                        3.0.0
mmengine                     0.7.3
model-index                  0.1.11
modelscope                   1.11.1
mpmath                       1.3.0
multidict                    6.0.4
multiprocess                 0.70.15
mypy-extensions              1.0.0
networkx                     3.0
ninja                        1.11.1
numba                        0.57.0
numexpr                      2.8.7
numpy                        1.23.5
oauthlib                     3.2.2
omegaconf                    2.3.0
onnx                         1.14.0
onnxruntime                  1.16.1
onnxruntime-gpu              1.15.1
open-clip-torch              2.23.0
opencv-contrib-python        4.7.0.72
opencv-python                4.7.0.72
opencv-python-headless       4.7.0.72
openmim                      0.3.7
opt-einsum                   3.3.0
ordered-set                  4.1.0
orjson                       3.9.0
oss2                         2.13.1
packaging                    23.0
pandas                       2.0.2
pathspec                     0.11.2
piexif                       1.1.3
pilgram                      1.2.1
Pillow                       9.4.0
pip                          23.3.1
pixelsort                    1.0.1
platformdirs                 3.6.0
pluggy                       1.3.0
pooch                        1.7.0
portalocker                  2.7.0
prettytable                  3.6.0
protobuf                     3.20.3
psutil                       5.9.4
py-cpuinfo                   9.0.0
pyarrow                      15.0.0
pyarrow-hotfix               0.6
pyasn1                       0.5.0
pyasn1-modules               0.3.0
pycocotools                  2.0.6
pycollada                    0.8
pycparser                    2.21
pycryptodome                 3.20.0
pydantic                     1.10.7
pydub                        0.25.1
pygame                       2.5.0
pygit2                       1.11.1
Pygments                     2.15.1
PyMatting                    1.1.8
pyparsing                    3.0.9
pypng                        0.20220715.0
pyre-extensions              0.0.23
pyreadline3                  3.4.1
pyrsistent                   0.19.3
PySocks                      1.7.1
pytest                       7.2.0
pytest-split                 0.8.0
python-bidi                  0.4.2
python-dateutil              2.8.2
python-multipart             0.0.6
pythonperlin                 0.0.3
pytorch-lightning            2.0.1
pytz                         2023.3
PyWavelets                   1.4.1
pywin32                      306
PyYAML                       6.0
qrcode                       7.4.2
qudida                       0.0.4
regex                        2022.10.31
rembg                        2.0.50
reportlab                    3.6.12
requests                     2.28.2
requests-oauthlib            1.3.1
requirements-parser          0.5.0
rfc3986                      1.5.0
rich                         13.4.1
rsa                          4.9
Rtree                        1.2.0
safetensors                  0.4.2
scikit-image                 0.20.0
scikit-learn                 1.3.2
scipy                        1.11.3
seaborn                      0.12.2
segment-anything             1.0
semantic-version             2.10.0
sentencepiece                0.1.97
setuptools                   67.6.0
sgm                          0.1.0
shapely                      2.0.1
simpleeval                   0.9.13
simplejson                   3.19.2
six                          1.16.0
smmap                        5.0.0
sniffio                      1.3.0
sortedcontainers             2.4.0
soupsieve                    2.4.1
starlette                    0.26.1
svg.path                     6.3
svglib                       1.5.1
sympy                        1.11.1
tabulate                     0.9.0
tb-nightly                   2.12.0a20230126
tensorboard                  2.15.1
tensorboard-data-server      0.7.2
tensorboard-plugin-wit       1.8.1
tensorflow                   2.15.0
tensorflow-cpu               2.15.0
tensorflow-estimator         2.15.0
tensorflow-intel             2.15.0
tensorflow-io-gcs-filesystem 0.31.0
termcolor                    2.3.0
terminaltables               3.1.10
threadpoolctl                3.2.0
tifffile                     2023.3.21
timm                         0.6.13
tinycss2                     1.2.1
tokenizers                   0.15.1
tomli                        2.0.1
toolz                        0.12.0
torch                        2.1.1+cu121
torchaudio                   2.1.1+cu121
torchdiffeq                  0.2.3
torchmetrics                 0.11.4
torchsde                     0.2.5
torchvision                  0.16.1+cu121
tqdm                         4.65.0
trampoline                   0.1.2
transformers                 4.37.2
trimesh                      4.1.4
trove-classifiers            2023.11.22
types-setuptools             68.1.0.0
typing_extensions            4.5.0
typing-inspect               0.8.0
tzdata                       2023.3
uc-micro-py                  1.0.2
ultralytics                  8.0.142
urllib3                      1.26.15
uvicorn                      0.22.0
vhacdx                       0.0.5
watchdog                     3.0.0
wcwidth                      0.2.6
webdataset                   0.2.86
webencodings                 0.5.1
webp                         0.3.0
websockets                   11.0.3
Werkzeug                     2.3.6
wheel                        0.40.0
wrapt                        1.14.1
xatlas                       0.0.9
xformers                     0.0.22.post7
xxhash                       3.4.1
yacs                         0.1.8
yapf                         0.32.0
yarl                         1.8.2
zipp                         3.16.2
zstandard                    0.21.0

[notice] A new release of pip is available: 23.3.1 -> 24.0
[notice] To update, run: c:\Work\SD-ComfyUI\python_embeded\python.exe -m pip install --upgrade pip

python_embeded\python -m pip install transformers==4.25.1
Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
Collecting transformers==4.25.1
  Downloading https://mirrors.aliyun.com/pypi/packages/90/5b/02becd3e137fdacdc30c6442d04094d0b92e500f978df00b1a197b68fd2b/transformers-4.25.1-py3-none-any.whl (5.8 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 5.8/5.8 MB 1.2 MB/s eta 0:00:00
Requirement already satisfied: filelock in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (3.10.0)
Requirement already satisfied: huggingface-hub<1.0,>=0.10.0 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (0.20.3)
Requirement already satisfied: numpy>=1.17 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (1.23.5)
Requirement already satisfied: packaging>=20.0 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (23.0)
Requirement already satisfied: pyyaml>=5.1 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (6.0)
Requirement already satisfied: regex!=2019.12.17 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (2022.10.31)
Requirement already satisfied: requests in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (2.28.2)
Collecting tokenizers!=0.11.3,<0.14,>=0.11.1 (from transformers==4.25.1)
  Downloading https://mirrors.aliyun.com/pypi/packages/3d/e7/ea70a1a0cd9ad5b4786365edd4042c30037bc4e67ae09c53cd62c6c1b89f/tokenizers-0.13.3-cp310-cp310-win_amd64.whl (3.5 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 3.5/3.5 MB 1.2 MB/s eta 0:00:00
Requirement already satisfied: tqdm>=4.27 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.25.1) (4.65.0)
Requirement already satisfied: fsspec>=2023.5.0 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from huggingface-hub<1.0,>=0.10.0->transformers==4.25.1) (2023.10.0)
Requirement already satisfied: typing-extensions>=3.7.4.3 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from huggingface-hub<1.0,>=0.10.0->transformers==4.25.1) (4.5.0)
Requirement already satisfied: colorama in c:\work\sd-comfyui\python_embeded\lib\site-packages (from tqdm>=4.27->transformers==4.25.1) (0.4.6)
Requirement already satisfied: charset-normalizer<4,>=2 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.25.1) (3.1.0)
Requirement already satisfied: idna<4,>=2.5 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.25.1) (2.10)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.25.1) (1.26.15)
Requirement already satisfied: certifi>=2017.4.17 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.25.1) (2022.12.7)
DEPRECATION: torchsde 0.2.5 has a non-standard dependency specifier numpy>=1.19.*; python_version >= "3.7". pip 24.0 will enforce this behaviour change. A possible replacement is to upgrade to a newer version of torchsde or contact the author to suggest that they release a version with a conforming dependency specifiers. Discussion can be found at https://github.com/pypa/pip/issues/12063
Installing collected packages: tokenizers, transformers
  Attempting uninstall: tokenizers
    Found existing installation: tokenizers 0.15.1
    Uninstalling tokenizers-0.15.1:
      Successfully uninstalled tokenizers-0.15.1
  WARNING: Failed to remove contents in a temporary directory 'C:\Work\SD-ComfyUI\python_embeded\Lib\site-packages\~.kenizers'.
  You can safely remove it manually.
  Attempting uninstall: transformers
    Found existing installation: transformers 4.37.2
    Uninstalling transformers-4.37.2:
      Successfully uninstalled transformers-4.37.2
  WARNING: The script transformers-cli.exe is installed in 'c:\Work\SD-ComfyUI\python_embeded\Scripts' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
clip-interrogator 0.6.0 requires transformers>=4.27.1, but you have transformers 4.25.1 which is incompatible.
image-reward 1.4 requires transformers>=4.27.4, but you have transformers 4.25.1 which is incompatible.
Successfully installed tokenizers-0.13.3 transformers-4.25.1

python_embeded\python -m pip install transformers==4.27.4
Looking in indexes: https://mirrors.aliyun.com/pypi/simple/
Collecting transformers==4.27.4
  Downloading https://mirrors.aliyun.com/pypi/packages/87/f0/2a152ed10ab8601431e87a606d397f7473c5fa4f8162f4ec5bda6ddb2df4/transformers-4.27.4-py3-none-any.whl (6.8 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 6.8/6.8 MB 1.1 MB/s eta 0:00:00
Requirement already satisfied: filelock in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (3.10.0)
Requirement already satisfied: huggingface-hub<1.0,>=0.11.0 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (0.20.3)
Requirement already satisfied: numpy>=1.17 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (1.23.5)
Requirement already satisfied: packaging>=20.0 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (23.0)
Requirement already satisfied: pyyaml>=5.1 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (6.0)
Requirement already satisfied: regex!=2019.12.17 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (2022.10.31)
Requirement already satisfied: requests in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (2.28.2)
Requirement already satisfied: tokenizers!=0.11.3,<0.14,>=0.11.1 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (0.13.3)
Requirement already satisfied: tqdm>=4.27 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from transformers==4.27.4) (4.65.0)
Requirement already satisfied: fsspec>=2023.5.0 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from huggingface-hub<1.0,>=0.11.0->transformers==4.27.4) (2023.10.0)
Requirement already satisfied: typing-extensions>=3.7.4.3 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from huggingface-hub<1.0,>=0.11.0->transformers==4.27.4) (4.5.0)
Requirement already satisfied: colorama in c:\work\sd-comfyui\python_embeded\lib\site-packages (from tqdm>=4.27->transformers==4.27.4) (0.4.6)
Requirement already satisfied: charset-normalizer<4,>=2 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.27.4) (3.1.0)
Requirement already satisfied: idna<4,>=2.5 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.27.4) (2.10)
Requirement already satisfied: urllib3<1.27,>=1.21.1 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.27.4) (1.26.15)
Requirement already satisfied: certifi>=2017.4.17 in c:\work\sd-comfyui\python_embeded\lib\site-packages (from requests->transformers==4.27.4) (2022.12.7)
DEPRECATION: torchsde 0.2.5 has a non-standard dependency specifier numpy>=1.19.*; python_version >= "3.7". pip 24.0 will enforce this behaviour change. A possible replacement is to upgrade to a newer version of torchsde or contact the author to suggest that they release a version with a conforming dependency specifiers. Discussion can be found at https://github.com/pypa/pip/issues/12063
Installing collected packages: transformers
  Attempting uninstall: transformers
    Found existing installation: transformers 4.25.1
    Uninstalling transformers-4.25.1:
      Successfully uninstalled transformers-4.25.1
  WARNING: The script transformers-cli.exe is installed in 'c:\Work\SD-ComfyUI\python_embeded\Scripts' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
Successfully installed transformers-4.27.4
